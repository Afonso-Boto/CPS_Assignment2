package gol.generator

import gol.gol.GameOfLife
import gol.gol.Configuration

class RuleGenerator {
	def static genCode(GameOfLife root)'''
	«staticCode()»
	«FOR conf : root.configuration »
		«getRules(conf)»
	«ENDFOR»
	'''
	
	def static staticCode()'''
	package GameOfLife;
		
	import java.awt.Point;
	import java.util.ArrayList;

	public class RulesOfLife {
		public static void computeSurvivors(boolean[][] gameBoard, ArrayList<Point> survivingCells) {
	       	 for (int i=1; i<gameBoard.length-1; i++) {
	            for (int j=1; j<gameBoard[0].length-1; j++) {
	                int surrounding = 0;
	                if (gameBoard[i-1][j-1]) { surrounding++; }
	                if (gameBoard[i-1][j])   { surrounding++; }
	                if (gameBoard[i-1][j+1]) { surrounding++; }
	                if (gameBoard[i][j-1])   { surrounding++; }
	                if (gameBoard[i][j+1])   { surrounding++; }
	                if (gameBoard[i+1][j-1]) { surrounding++; }
	                if (gameBoard[i+1][j])   { surrounding++; }
	                if (gameBoard[i+1][j+1]) { surrounding++; }
		                
		                
	'''
	
	
	def static getRules(Configuration conf)'''
		
	
	'''
	
}